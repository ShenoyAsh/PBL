{"ast":null,"code":"import axios from 'axios';\n\n// Create an Axios instance\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n/**\r\n * Function to get the Admin API Key.\r\n * In a real app, this would come from a secure auth context (e.g., after admin login).\r\n * For this prototype, we'll prompt the user or read from local storage.\r\n */\nconst getAdminApiKey = () => {\n  // Try to get from local storage first\n  let key = localStorage.getItem('adminApiKey');\n  if (!key) {\n    key = prompt('Enter Admin API Key (for export/import):');\n    if (key) {\n      localStorage.setItem('adminApiKey', key);\n    }\n  }\n  return key;\n};\n\n/**\r\n * Creates an authorized Axios instance for admin actions.\r\n */\nexport const createAdminApi = () => {\n  const apiKey = getAdminApiKey();\n  if (!apiKey) {\n    alert('Admin API Key is required for this action.');\n    return null;\n  }\n  return axios.create({\n    baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\n    headers: {\n      'x-api-key': apiKey\n    }\n  });\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","headers","getAdminApiKey","key","localStorage","getItem","prompt","setItem","createAdminApi","apiKey","alert"],"sources":["C:/Users/AJAY DSOUZA/Downloads/Life/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Create an Axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n/**\r\n * Function to get the Admin API Key.\r\n * In a real app, this would come from a secure auth context (e.g., after admin login).\r\n * For this prototype, we'll prompt the user or read from local storage.\r\n */\r\nconst getAdminApiKey = () => {\r\n  // Try to get from local storage first\r\n  let key = localStorage.getItem('adminApiKey');\r\n  if (!key) {\r\n    key = prompt('Enter Admin API Key (for export/import):');\r\n    if (key) {\r\n      localStorage.setItem('adminApiKey', key);\r\n    }\r\n  }\r\n  return key;\r\n};\r\n\r\n/**\r\n * Creates an authorized Axios instance for admin actions.\r\n */\r\nexport const createAdminApi = () => {\r\n  const apiKey = getAdminApiKey();\r\n  if (!apiKey) {\r\n    alert('Admin API Key is required for this action.');\r\n    return null;\r\n  }\r\n\r\n  return axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5001/api',\r\n    headers: {\r\n      'x-api-key': apiKey,\r\n    },\r\n  });\r\n};\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;EACrEC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAC3B;EACA,IAAIC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAC7C,IAAI,CAACF,GAAG,EAAE;IACRA,GAAG,GAAGG,MAAM,CAAC,0CAA0C,CAAC;IACxD,IAAIH,GAAG,EAAE;MACPC,YAAY,CAACG,OAAO,CAAC,aAAa,EAAEJ,GAAG,CAAC;IAC1C;EACF;EACA,OAAOA,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMK,cAAc,GAAGA,CAAA,KAAM;EAClC,MAAMC,MAAM,GAAGP,cAAc,CAAC,CAAC;EAC/B,IAAI,CAACO,MAAM,EAAE;IACXC,KAAK,CAAC,4CAA4C,CAAC;IACnD,OAAO,IAAI;EACb;EAEA,OAAOhB,KAAK,CAACE,MAAM,CAAC;IAClBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;IACrEC,OAAO,EAAE;MACP,WAAW,EAAEQ;IACf;EACF,CAAC,CAAC;AACJ,CAAC;AAED,eAAed,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}